# BMad Alpha Version Upgrade Guide: Project Artifacts

When upgrading between BMad alpha versions, your **installed tooling** upgrades cleanly. Your **in-progress project artifacts** do not.

## Critical Review (Read Before Trusting Anything Below)

1. The intro confidently claims that tooling "upgrades cleanly" without a single verification command, compatibility matrix, or rollback path; at minimum you need explicit steps (`bmm --version`, node/npm requirements, etc.) to prove the upgrade succeeded before nuking artifacts.
2. The "Finish, Archive, Regenerate" recipe hand-waves away the fact that `bmm/config.yaml` still points to `docs/`; renaming the directory to `docs-old/` breaks every workflow until you either recreate an empty `docs/` or update `output_folder`, and the guide never mentions that.
3. Only `docs/` is discussed, but teams keep diagrams, data extracts, prompts, and agent settings in `custom/`, `log/`, or sibling folders; the guide provides zero direction for backing up or reconciling those, so following it literally will strand required evidence.
4. The execution order diagram switches to undocumented commands like `/prd` and `/dev-story`, contradicting the `/pm create-prd` and `/sm create-story` syntax documented earlier; readers have to guess which names the CLI actually accepts.
5. "How to Use Old Docs as Input" tells you to paste whole legacy documents into prompts without warning about token limits, redacting secrets, or summarizing; that's reckless guidance for enterprise materials.
6. The "Quick Flow" section pretends you can just rerun `/quick-flow-solo-dev quick-dev` with no explanation of how to supply prior specs, no mapping back into the main artifact tree, and no statement about whether Quick Flow outputs coexist with the regenerated `docs/` set.

## The Problem

Each alpha release may change:

- Template structures (frontmatter fields, section organization)
- Schema expectations (story format, epic structure, sprint-status.yaml)
- Workflow assumptions (what fields exist, what order they appear)

Your existing `docs/` artifacts were generated by the _old_ alpha. The _new_ alpha's workflows expect artifacts matching _current_ templates. Result: mysterious failures, missing fields, broken assumptions.

## The Solution: Finish, Archive, Regenerate

**Do not attempt to migrate artifacts in place.** The schemas change too frequently and the transformations are too fragile.

Instead:

1. **Finish your current work** - Complete your in-progress story/epic to a stopping point
2. **Archive old artifacts** - Move your `docs/` folder aside (rename to `docs-old/` or similar)
3. **Upgrade BMad** - Install the new alpha version
4. **Regenerate from scratch** - Run each workflow fresh, using old docs as reference input

## Workflow-to-Artifact Mapping

Use this table when regenerating. Feed your old artifact to the corresponding workflow as context.

> **Source:** This mapping is derived from `docs/diagrams/workflow-manifest.yaml` - the authoritative workflow inventory.

### Phase 1: Discovery (Optional)

| Old Artifact       | Workflow      | Agent   | Command                  | New Output          |
| ------------------ | ------------- | ------- | ------------------------ | ------------------- |
| `product-brief.md` | Product Brief | Analyst | `/analyst product-brief` | `@product-brief.md` |
| Research notes     | Research      | Analyst | `/analyst research`      | (various)           |

### Phase 2: Planning

| Old Artifact                 | Workflow         | Agent       | Command                         | New Output                                                                           |
| ---------------------------- | ---------------- | ----------- | ------------------------------- | ------------------------------------------------------------------------------------ |
| `PRD.md`                     | PRD              | PM          | `/pm create-prd`                | `@PRD.md`                                                                            |
| `ux-design-specification.md` | Create UX Design | UX Designer | `/ux-designer create-ux-design` | `@ux-design-specification.md`, `@ux-color-themes.html`, `@ux-design-directions.html` |

### Phase 3: Solutioning

| Old Artifact        | Workflow                 | Agent     | Command                               | New Output                            |
| ------------------- | ------------------------ | --------- | ------------------------------------- | ------------------------------------- |
| `architecture.md`   | Architecture             | Architect | `/architect create-architecture`      | `@architecture.md`                    |
| `epics.md`          | Create Epics and Stories | PM        | `/pm create-epics-and-stories`        | `@epics.md`                           |
| (validation report) | Implementation Readiness | Architect | `/architect implementation-readiness` | `@implementation-readiness-report.md` |

### Phase 4: Implementation

| Old Artifact                        | Workflow        | Agent | Command               | New Output             |
| ----------------------------------- | --------------- | ----- | --------------------- | ---------------------- |
| `sprint-status.yaml`                | Sprint Planning | SM    | `/sm sprint-planning` | `@sprint-status.yaml`  |
| Story files (`{epic}-{story}-*.md`) | Create Story    | SM    | `/sm create-story`    | `@{epic}-{story}-*.md` |
| (none - execution)                  | Dev Story       | Dev   | `/dev develop-story`  | (code changes)         |
| (none - review)                     | Code Review     | Dev   | `/dev code-review`    | (review feedback)      |

### Quick Flow (Alternative Path)

| Old Artifact       | Workflow         | Agent               | Command                                 | New Output      |
| ------------------ | ---------------- | ------------------- | --------------------------------------- | --------------- |
| Tech spec          | Create Tech Spec | Quick Flow Solo Dev | `/quick-flow-solo-dev create-tech-spec` | `@tech-spec.md` |
| (none - execution) | Quick Dev        | Quick Flow Solo Dev | `/quick-flow-solo-dev quick-dev`        | (code changes)  |

## Execution Order

Regenerate artifacts in this order. Each workflow depends on outputs from previous phases:

```
                         ┌─────────────────────────────────────────────┐
                         │  PHASE 1: DISCOVERY (optional)             │
                         │  ├─ /product-brief → @product-brief.md     │
                         │  └─ /research → (various)                   │
                         └─────────────────────────────────────────────┘
                                              │
                                              ▼
                         ┌─────────────────────────────────────────────┐
                         │  PHASE 2: PLANNING                          │
                         │  ├─ /prd → @PRD.md                          │
                         │  │                                          │
                         │  └─ (if UI) /create-ux-design               │
                         │       → @ux-design-specification.md         │
                         └─────────────────────────────────────────────┘
                                              │
                                              ▼
                         ┌─────────────────────────────────────────────┐
                         │  PHASE 3: SOLUTIONING                       │
                         │  ├─ /architecture → @architecture.md        │
                         │  │                                          │
                         │  ├─ /create-epics-and-stories → @epics.md   │
                         │  │                                          │
                         │  └─ /implementation-readiness (validation)  │
                         └─────────────────────────────────────────────┘
                                              │
                                              ▼
                         ┌─────────────────────────────────────────────┐
                         │  PHASE 4: IMPLEMENTATION                    │
                         │  ├─ /sprint-planning → @sprint-status.yaml  │
                         │  │                                          │
                         │  └─ (loop for each story)                   │
                         │       ├─ /create-story → story file         │
                         │       ├─ /dev-story → implementation        │
                         │       └─ /code-review → review              │
                         └─────────────────────────────────────────────┘
```

**Quick Flow Alternative:**

```
/create-tech-spec → @tech-spec.md → /quick-dev → (implementation)
```

## How to Use Old Docs as Input

When the workflow asks for context or "what are you building?", paste or reference your old document:

**Example for PRD workflow:**

> "I'm rebuilding my PRD after an alpha upgrade. Here's my previous PRD for context: [paste old PRD or say 'see docs-old/PRD.md']. The scope remains the same but I've decided to drop feature X."

**Example for Architecture workflow:**

> "Here's my previous architecture document: [reference]. The tech stack decisions still apply. Focus on generating this in the new format."

**Example for Epics workflow:**

> "Previous epics are in docs-old/epics.md. Same scope, same stories, just need them in current format."

The workflow will extract relevant information and generate compliant output.

## What NOT to Do

- **Don't hand-edit old files to match new schemas** - You'll miss fields, get formats wrong, and create subtle bugs
- **Don't try to run new workflows against old artifacts** - They may partially work, then fail mysteriously mid-sprint
- **Don't keep both old and new artifacts in `docs/`** - Workflows will find the wrong files

## When to Upgrade

**Good times to upgrade:**

- Between epics (natural stopping point)
- After completing a sprint
- Before starting a new project phase

**Bad times to upgrade:**

- Mid-story implementation
- With uncommitted story work
- During active sprint with multiple in-progress items

## Quick Reference: Output Files

From `docs/diagrams/workflow-manifest.yaml` legend:

| Output File                           | Description                                  |
| ------------------------------------- | -------------------------------------------- |
| `@bmm-workflow-status.yaml`           | BMM workflow tracking status                 |
| `@product-brief.md`                   | Product vision and requirements              |
| `@PRD.md`                             | Product requirements document                |
| `@ux-design-specification.md`         | UX design and wireframes                     |
| `@ux-color-themes.html`               | UX color theme options                       |
| `@ux-design-directions.html`          | UX design direction options                  |
| `@architecture.md`                    | System architecture and design               |
| `@epics.md`                           | Epic and story breakdown                     |
| `@implementation-readiness-report.md` | Implementation readiness validation          |
| `@sprint-status.yaml`                 | Sprint status and planning                   |
| `@{epic}-{story}-*.md`                | Story implementation details                 |
| `@sprint-change-proposal.md`          | Sprint change proposal (from correct-course) |
| `@tech-spec.md`                       | Technical specification (Quick Flow)         |

> **Note:** The `@` prefix indicates output folder location (configured in `bmm/config.yaml` as `output_folder`).

---

## See Also

- [Workflow Manifest](./diagrams/workflow-manifest.yaml) - Authoritative workflow inventory with connections and evidence
- [v4-to-v6-upgrade.md](./v4-to-v6-upgrade.md) - BMad tooling installation upgrades (not project artifacts)
